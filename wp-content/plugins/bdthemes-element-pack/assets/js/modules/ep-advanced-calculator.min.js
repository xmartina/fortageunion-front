!function($,elementor){"use strict";var widgetCCalculator=function($scope,$){var $customCalculator=$scope.find(".bdt-ep-advanced-calculator"),$settings=$customCalculator.data("settings");function getVarableDataArray(){let e,t,a=[],r=[],n="",l=[];return $.each($($settings.id).find(".bdt-ep-advanced-calculator-field-wrap input[type=text], .bdt-ep-advanced-calculator-field-wrap input[type=hidden], .bdt-ep-advanced-calculator-field-wrap input[type=checkbox], .bdt-ep-advanced-calculator-field-wrap input[type=radio], .bdt-ep-advanced-calculator-field-wrap input[type=number], .bdt-ep-advanced-calculator-field-wrap select"),(function(i,u){e=parseInt(i)+1;let d=parseInt($(u).val());if("radio"===$(u).prop("type")){let c=$(u).attr("name");!0===$("input[name='"+c+"']").is(":checked")&&l.indexOf(c)<0&&(l.push(c),t=getValueIfInteger($('input[name="'+c+'"]:checked').val()),Number.isInteger(t)&&r.push({variable:"f"+e,value:t}),a.push({type:$(u).prop("type"),index:i,value:$(u).val(),variable:"f"+e,real_value:t}),n+=Number.isInteger(d)&&d<0?"-f"+e+", ":"f"+e+", ",e++)}else"checkbox"===$(u).prop("type")?!0===$(u).is(":checked")&&(t=getValueIfInteger($(u).val()),Number.isInteger(t)&&r.push({variable:"f"+e,value:t}),a.push({type:$(u).prop("type"),index:i,value:$(u).val(),variable:"f"+e,real_value:t}),n+=Number.isInteger(d)&&d<0?"-f"+e+", ":"f"+e+", ",e++):($(u).prop("type"),t=getValueIfInteger($(u).val()),Number.isInteger(t)&&r.push({variable:"f"+e,value:t}),a.push({type:$(u).prop("type"),index:i,value:$(u).val(),variable:"f"+e,real_value:t}),n+=Number.isInteger(d)&&d<0?"-f"+e+", ":"f"+e+", ",e++)})),[a,r]}function getValueIfInteger(e){if(void 0===e)return null;let t=parseInt(e);return!0===Number.isInteger(t)?t:e}function getFormulaStringFromDataSettings(){let e=$settings.formula,t=!!e&&e.match(/'(.*)'/).pop();return t||!1}function procesingFormDataWithFormulaJs(){let getDataArray=getVarableDataArray(),regexp=new RegExp("[f][1-9][0-9]{0,2}|1000$","g"),str=getFormulaStringFromDataSettings(),match,value,variableArray=getDataArray[1];if(variableArray.length>0){for(;null!==(match=regexp.exec(str));){let e=0;for(let t=0;t<variableArray.length;t++)variableArray[t].variable===match[0]&&(str=str.replace(match[0],variableArray[t].value),e++);0===e&&(str=str.replace(match[0],null))}try{value=eval("formulajs."+str),$($settings.id).find(".bdt-ep-advanced-calculator-result span").text(value)}catch(e){$($settings.id).find(".bdt-ep-advanced-calculator-error").removeClass("bdt-hidden"),setTimeout((function(){$($settings.id).find(".bdt-ep-advanced-calculator-error").addClass("bdt-hidden")}),5e3)}}}$customCalculator.length&&("submit"==$settings.resultShow&&$($settings.id).find(".bdt-ep-advanced-calculator-form").submit((function(e){e.preventDefault(),procesingFormDataWithFormulaJs()})),"change"==$settings.resultShow&&$($settings.id).find(".bdt-ep-advanced-calculator-form input").change((function(){procesingFormDataWithFormulaJs()})))};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-advanced-calculator.default",widgetCCalculator)}))}(jQuery,window.elementorFrontend);